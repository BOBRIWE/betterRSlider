{"version":3,"sources":["webpack://betterRSlider/webpack/universalModuleDefinition","webpack://betterRSlider/webpack/bootstrap","webpack://betterRSlider/external \"jQuery\"","webpack://betterRSlider/./src/ConvertationHelper.ts","webpack://betterRSlider/./src/BetterRSliderView.ts","webpack://betterRSlider/./src/OptionsHandler.ts","webpack://betterRSlider/./src/BetterRSlider.ts","webpack://betterRSlider/./src/BetterRSliderController.ts","webpack://betterRSlider/./src/index.ts"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ConvertationHelper","min","max","model","rootObject","this","_model","_rootObject","_rendered","_pointLeft","_secondPoint","_sliderLine","_renderBody","_render","callback","requestAnimationFrame","_sliderContainer","_rangeLine","_mainPointCaption","options","mainPointCaption","_secondPointCaption","secondPointCaption","addClass","appendTo","append","orientation","_renderVertical","_renderHorizontal","range","detach","offsetMain","toPercents","offsetSecond","valueSecond","height","css","_setVertical","width","_setHorizontal","removeClass","newValue","isSecond","_options","possibles","_possiblesSecond","_possibles","offset","step","_getPossibleValuesArray","roundedVal","Math","round","parseFloat","toFixed","includes","assign","currentVal","arr","current","push","Error","exOptions","extend","_checkConstraints","e","console","error","message","_listeners","_optionsHandler","setOptions","notify","handleStep","listener","forEach","item","onNotify","view","_view","_isSecond","_self","preventDefault","_isVertical","_startCoord","clientY","clientX","_curVal","moveHandler","_mouseMoveVerticalHandler","_mouseMoveHandler","document","on","_mouseUpHandler","sliderLine","innerWidth","val","innerHeight","off","mainPoint","_mouseDownHandler","secondPoint","defaultOptions","fn","betterRSlider","data","controller","addListener","onRendered","render"],"mappings":"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","file":"betterRSlider.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"betterRSlider\"] = factory(require(\"jQuery\"));\n\telse\n\t\troot[\"betterRSlider\"] = factory(root[\"jQuery\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","export default class ConvertationHelper {\n    static toPercents(min: number, max: number, value: number): number {\n        return (value - min) * 100 / (max - min);\n    }\n}","import $ from 'jquery';\nimport IBetterRSliderListener from './IBetterRSliderListener';\nimport IBetterRSlider from './IBetterRSlider';\nimport ConvertationHelper from './ConvertationHelper';\n\nclass BetterRSliderView implements IBetterRSliderListener{\n    private _model: IBetterRSlider;\n    private _rootObject: JQuery;\n    private _sliderLine: JQuery;\n    private _sliderContainer: JQuery;\n    private _pointLeft: JQuery;\n    private _secondPoint: JQuery;\n    private _rangeLine: JQuery;\n    private _rendered: () => void;\n    private _mainPointCaption: JQuery;\n    private _secondPointCaption: JQuery;\n\n    constructor(model: IBetterRSlider, rootObject: JQuery) {\n        this._model = model;\n        this._rootObject = rootObject;\n        this._rendered = (): void => {};\n    }\n\n    get mainPoint(): JQuery {\n        return this._pointLeft;\n    }\n\n    get secondPoint(): JQuery {\n        return this._secondPoint;\n    }\n\n    get sliderLine(): JQuery {\n        return this._sliderLine;\n    }\n\n    render(): void {\n        this._renderBody();\n        this._render();\n    }\n\n    onRendered(callback: () => void): void {\n        this._rendered = callback;\n    }\n\n\n    private _renderBody(): void {\n        requestAnimationFrame(() => {\n            this._sliderContainer = $('<div></div>');\n            this._sliderLine = $('<div></div>');\n            this._pointLeft = $('<div></div>');\n            this._secondPoint = $('<div></div>');\n            this._rangeLine = $('<div></div>');\n\n            this._mainPointCaption = $(this._model.options.mainPointCaption as JQuery);\n            this._secondPointCaption = $(this._model.options.secondPointCaption as JQuery);\n\n            this._sliderLine.addClass('better-rslider__line');\n            this._sliderContainer.addClass('better-rslider__container');\n            this._pointLeft.addClass('better-rslider__point-main');\n            this._secondPoint.addClass('better-rslider__point-second');\n            this._rangeLine.addClass('better-rslider__range-line');\n\n            this._pointLeft.appendTo(this._sliderLine);\n            this._rangeLine.appendTo(this._sliderLine);\n            this._sliderLine.appendTo(this._sliderContainer);\n            this._rootObject.append(this._sliderContainer);\n\n            this._mainPointCaption.appendTo(this._pointLeft);\n            this._secondPoint.appendTo(this._secondPoint);\n\n            this._rendered();\n        });\n    }\n\n    private _render(): void {\n        requestAnimationFrame(() => {\n\n            if (this._model.options.orientation === 'vertical') {\n                this._renderVertical();\n            } else {\n                this._renderHorizontal();\n            }\n\n            if (this._model.options.range) {\n                this._secondPoint.appendTo(this._sliderLine);\n            }else {\n                this._secondPoint.detach();\n            }\n\n        });\n    }\n\n    private _renderVertical(): void {\n        const offsetMain = ConvertationHelper.toPercents(\n            this._model.options.min,\n            this._model.options.max,\n            this._model.options.value\n        );\n\n        const offsetSecond = ConvertationHelper.toPercents(\n            this._model.options.min,\n            this._model.options.max,\n            this._model.options.valueSecond\n        );\n\n        const height = this._model.options.range ? offsetSecond-offsetMain : offsetMain;\n\n        this._rangeLine.css('left', '');\n        if (this._model.options.range) {\n            this._rangeLine.css('bottom', offsetMain + '%');\n        }else {\n            this._rangeLine.css('bottom', '');\n        }\n\n        this._rangeLine.css('height', height + '%');\n        this._rangeLine.css('width', '');\n        this._pointLeft.css('bottom',offsetMain + '%');\n        this._pointLeft.css('left','');\n        this._secondPoint.css('bottom', offsetSecond + '%');\n        this._secondPoint.css('left', '');\n        this._setVertical();\n    }\n\n    private _renderHorizontal(): void {\n        const offsetMain = ConvertationHelper.toPercents(\n            this._model.options.min,\n            this._model.options.max,\n            this._model.options.value\n        );\n\n        const offsetSecond = ConvertationHelper.toPercents(\n            this._model.options.min,\n            this._model.options.max,\n            this._model.options.valueSecond\n        );\n\n        const width = this._model.options.range ? offsetSecond-offsetMain : offsetMain;\n\n        this._rangeLine.css('bottom', '');\n        if (this._model.options.range) {\n            this._rangeLine.css('left', offsetMain + '%');\n        }else {\n            this._rangeLine.css('left', '');\n        }\n\n        this._rangeLine.css('width',  width + '%');\n        this._rangeLine.css('height',  '');\n        this._pointLeft.css('left',offsetMain + '%');\n        this._pointLeft.css('bottom','');\n        this._secondPoint.css('left',offsetSecond + '%');\n        this._secondPoint.css('bottom','');\n        this._setHorizontal();\n    }\n\n    private _setVertical(): void {\n        this._sliderLine.addClass('better-rslider__line--vertical');\n        this._sliderContainer.addClass('better-rslider__container--vertical');\n        this._pointLeft.addClass('better-rslider__point--vertical');\n        this._secondPoint.addClass('better-rslider__point--vertical');\n        this._rangeLine.addClass('better-rslider__range-line--vertical');\n    }\n\n    private _setHorizontal(): void {\n        this._sliderLine.removeClass('better-rslider__line--vertical');\n        this._sliderContainer.removeClass('better-rslider__container--vertical');\n        this._pointLeft.removeClass('better-rslider__point--vertical');\n        this._secondPoint.removeClass('better-rslider__point--vertical');\n        this._rangeLine.removeClass('better-rslider__range-line--vertical');\n    }\n\n    onNotify(): void {\n        this._render();\n    }\n}\n\nexport default BetterRSliderView;","import IBetterRSliderOptions from './IBetterRSliderOptions';\nimport $ from 'jquery';\n\nexport default class OptionsHandler {\n    private _options: IBetterRSliderOptions;\n    private _possibles: number[];\n    private _possiblesSecond: number[];\n\n    handleStep(newValue: number, isSecond: boolean): IBetterRSliderOptions {\n        const options = this._options;\n        const possibles = isSecond ? this._possiblesSecond : this._possibles;\n        const offset = isSecond ? options.valueSecond % options.step : options.value % options.step;\n\n        if (this._options.range) {\n            this._possibles = this._getPossibleValuesArray(options.min, options.valueSecond, options.step, options.value);\n            this._possiblesSecond = this._getPossibleValuesArray(options.value, options.max, options.step, options.valueSecond);\n        }\n\n        let roundedVal = offset + Math.round(newValue / options.step) * options.step;\n        roundedVal = parseFloat(roundedVal.toFixed(2));\n\n        if (possibles.includes(roundedVal)) {\n            if (isSecond) {\n                options.valueSecond = roundedVal;\n            } else {\n                options.value = roundedVal;\n            }\n            return Object.assign({}, options);\n        }\n\n        return options;\n    }\n\n    private _getPossibleValuesArray(min: number, max: number, step: number, currentVal: number): number[] {\n        const arr = [];\n        let current = currentVal;\n        while (current <= max) {\n            arr.push(parseFloat(current.toFixed(2)));\n            current+=step;\n        }\n\n        current = currentVal-step;\n        while (current >= min) {\n            arr.push(parseFloat(current.toFixed(2)));\n            current-=step;\n        }\n\n        return arr;\n    }\n\n    private _checkConstraints(options: IBetterRSliderOptions): void {\n        if (options.value > options.max || (options.range && options.valueSecond > options.max)) {\n            throw new Error('Value should be <= max');\n        } else if (options.value < options.min || (options.range && options.valueSecond < options.min)) {\n            throw new Error('Value should be >= min')\n        } else if (options.step <= 0) {\n            throw new Error('Step should be > 0');\n        } else if (options.range && (options.value > options.valueSecond)) {\n            throw new Error('Second value should be >= first value');\n        }\n    }\n\n    setOptions(options: IBetterRSliderOptions): void {\n        const exOptions = $.extend({}, this._options, options);\n\n        try {\n            this._checkConstraints(exOptions);\n        } catch (e) {\n            console.error(e.message);\n            return;\n        }\n\n        this._options = exOptions;\n\n        if (exOptions.range) {\n            this._possibles = this._getPossibleValuesArray(exOptions.min, exOptions.valueSecond, exOptions.step, exOptions.value);\n            this._possiblesSecond = this._getPossibleValuesArray(exOptions.value, exOptions.max, exOptions.step, exOptions.valueSecond);\n        } else {\n            this._possibles = this._getPossibleValuesArray(exOptions.min, exOptions.max, exOptions.step, exOptions.value);\n        }\n    }\n\n    get options(): IBetterRSliderOptions {\n        return Object.assign({}, this._options);\n    }\n}","import IBetterRSlider from './IBetterRSlider';\nimport IBetterRSliderOptions from './IBetterRSliderOptions';\nimport IBetterRSliderListener from './IBetterRSliderListener';\nimport OptionsHandler from './OptionsHandler';\n\nclass BetterRSlider implements IBetterRSlider {\n    private _listeners: IBetterRSliderListener[];\n    private _optionsHandler: OptionsHandler;\n\n    constructor(options: IBetterRSliderOptions) {\n        this._listeners = [];\n        this._optionsHandler = new OptionsHandler();\n        this._optionsHandler.setOptions(options);\n    }\n\n    get options(): IBetterRSliderOptions {\n        return Object.assign({}, this._optionsHandler.options);\n    }\n\n    setOptions(options: IBetterRSliderOptions): void {\n        this._optionsHandler.setOptions(options);\n        this.notify();\n    }\n\n    handleStep(newValue: number, isSecond: boolean): void {\n        this._optionsHandler.handleStep(newValue, isSecond);\n        this.notify();\n    }\n\n    addListener(listener: IBetterRSliderListener): void {\n        this._listeners.forEach((item) => {\n            if (item === listener) {\n                throw new Error('Observer already in the list')\n            }\n        });\n\n        this._listeners.push(listener);\n    }\n\n    notify(): void {\n        const options = this._optionsHandler.options;\n        if (options.callback) {\n            options.callback();\n        }\n\n        this._listeners.forEach((listener) => {\n            listener.onNotify();\n        });\n    }\n}\n\nexport default BetterRSlider;","import $ from 'jquery';\nimport IBetterRSlider from './IBetterRSlider';\nimport BetterRSliderView from './BetterRSliderView';\n\nexport default class BetterRSliderController {\n    private _model: IBetterRSlider;\n    private _view: BetterRSliderView;\n    private _startCoord: number;\n    private _self: BetterRSliderController;\n    private _curVal: number;\n    private _isVertical: boolean;\n    private _isSecond: boolean;\n\n    constructor(model: IBetterRSlider, view: BetterRSliderView) {\n        this._model = model;\n        this._view = view;\n        this._isSecond = false;\n        this._self = this;\n    }\n\n    private _mouseDownHandler(e: JQuery.Event): void {\n        e.preventDefault();\n        this._isVertical = this._model.options.orientation === 'vertical';\n\n        this._startCoord = this._isVertical ? e.clientY : e.clientX;\n\n        this._curVal = this._isSecond ? this._model.options.valueSecond : this._model.options.value;\n        const moveHandler = this._isVertical ? this._mouseMoveVerticalHandler : this._mouseMoveHandler;\n        $(document).on('mousemove', moveHandler.bind(this._self));\n        $(document).on('mouseup', this._mouseUpHandler);\n    }\n\n    private _mouseMoveHandler(e: JQuery.Event): void {\n        const width = this._view.sliderLine.innerWidth();\n        const val = (this._model.options.max - this._model.options.min) / width;\n        this._model.handleStep(this._curVal + (e.clientX - this._startCoord) * val, this._isSecond);\n    }\n\n    private _mouseMoveVerticalHandler(e: JQuery.Event): void {\n        const height = this._view.sliderLine.innerHeight();\n        const val = ( (this._model.options.max - this._model.options.min) / height);\n        this._model.handleStep(-(-this._curVal + (e.clientY - this._startCoord) * val), this._isSecond);\n    }\n\n    private _mouseUpHandler(): void {\n        const moveHandler = this._isVertical ? this._mouseMoveVerticalHandler : this._mouseMoveHandler;\n        $(document).off('mouseup', this._mouseUpHandler);\n        $(document).off('mousemove', moveHandler);\n    }\n\n    bind(): void {\n        this._view.mainPoint.on('mousedown', (e: JQuery.Event) => {\n            this._isSecond = false;\n            this._mouseDownHandler.call(this._self, e);\n        });\n        this._view.secondPoint.on('mousedown', (e: JQuery.Event) => {\n            this._isSecond = true;\n            this._mouseDownHandler.call(this._self, e);\n        });\n    }\n}","import $ from 'jquery';\nimport BetterRSliderView from './BetterRSliderView';\nimport BetterRSlider from './BetterRSlider';\nimport IBetterRSliderOptions from './IBetterRSliderOptions';\nimport IBetterRSlider from './IBetterRSlider';\nimport './IJQuery';\nimport BetterRSliderController from './BetterRSliderController';\n\nconst defaultOptions: IBetterRSliderOptions = {\n    max: 100,\n    min: 0,\n    value: 0,\n    valueSecond: 100,\n    step: 1,\n    orientation: 'horizontal',\n    mainPointCaption: '<div></div>',\n    secondPointCaption: '<div></div>'\n};\n\n$.fn.betterRSlider = function (this: JQuery, options: IBetterRSliderOptions | string = {}): JQuery | IBetterRSliderOptions {\n\n    if (this.data('model')) {\n        const model: IBetterRSlider = this.data('model');\n        if (options === 'options') {\n            return model.options;\n        }\n\n        model.setOptions(options as IBetterRSliderOptions);\n        return this;\n    }\n\n    const model = new BetterRSlider($.extend({}, defaultOptions, options));\n    const view = new BetterRSliderView(model, this);\n    const controller = new BetterRSliderController(model, view);\n\n    model.addListener(view);\n\n    view.onRendered(() => {\n        controller.bind();\n        model.notify();\n    });\n\n    view.render();\n\n\n    this.data('model', model);\n\n    return this;\n};"],"sourceRoot":""}